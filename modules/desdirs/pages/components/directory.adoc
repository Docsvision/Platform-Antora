= Справочник компонентов

_Справочник компонентов_ является хранилищем программных компонентов, которые могут быть по запросу установлены на компьютер пользователя {dv}. Компоненты устанавливаются автоматически при необходимости при запуске {wincl}. Если необходимые {wincl}у компоненты отсутствуют на компьютере пользователя, и загружены в хранилище программных компонентов (_Справочник компонентов_), они будут загружены автоматически.

_Справочник компонентов_ обладает встроенной системой учета версий, которая обеспечивает возможность автоматического обновления компонентов, установленных на компьютеры пользователей.

Компоненты, загруженные в _Справочник компонентов_, объединяются в группы. Принцип формирования групп определяет инженер {dv}.

_Справочник компонентов_ предназначен для распространения только .NET-сборок.

== Открытие Справочника компонентов

.Чтобы открыть главное окно справочника:
. Запустите {wincl} от имени администратора {dv}.
. Откройте элемент menu:Конструкторы и справочники[Справочник компонентов].

== Принцип работы механизма распространения компонентов

. Пользователь выполняет операцию, которая требует использования внешнего компонента.
+
****
Например, когда пользователь запускает {wincl}, к которому подключено расширение, или открывает карточку, к скрипту которой подключена библиотека DLL.
****
+
. {wincl} пытается получить необходимый компонент из файловой системы компьютера пользователя стандартным путём.
Например, из каталога программы, папок на сервере с установленной программой {cns} (см. раздел "xref:install-linux:ROOT:linux-limitations.adoc[]"), перечисленных в ветке реестра `{hklm-dv}\Shared\Paths`, или из каталога распространяемых компонентов: `%temp%\DV6\Deploy\`.

* Если файл не найден по стандартным путям, механизм распространения компонентов не используется.
* Если файл найден в каталоге распространяемых компонентов, проверяется версия его группы, указанная в файле описания: `%temp%\DV6\Deploy\Группа-компонентов\group.info`.
** Если версия группы компонентов не изменилась, возвращается данный компонент.
** Если версия группы компонентов изменилась, проверяется версия компонента, которая указана в папке компонента: `%temp%\DV6\Deploy\Группа-компонентов\Название-компонента_Версия-компонента`.
*** Если версия компонента не изменилась, возвращается данный компонент.
*** Если версия компонента изменилась, из _Справочника компонентов_ загружается новая версия; возвращается новая версия компонента.
* Если файл не найден, проверяется его наличие в _Справочнике компонентов_.
** Если компонент с искомым названием (например, Cia.MessControl.dll) зарегистрирован в _Справочнике компонентов_, он загружается на компьютер пользователя в папку `%temp%\DV6\Deploy\[Группа компонентов]\[Название компонента]_[Версия компонента]`; возвращается загруженная версия компонента.
** Если компонент не зарегистрирован в _Справочнике компонентов_, выполняется предусмотренное программой действие (например, возвращается ошибка).
+
[WARNING]
====
Загруженные из _Справочника компонентов_ файлы хранятся в каталоге `%temp%\DV6\Deploy\Группа-компонентов\Название-компонента_Версия-компонента`.

Данную особенность необходимо учитывать при подключении компонентов к {wincl}у, если компоненты подключаются с указанием полного пути.
====

== Интерфейс Справочника компонентов

Ниже представлено главное окно _Справочника компонентов_.

.Главное окно Справочника компонентов
image::components-window.png[Главное окно Справочника компонентов]

.Главное окно _Справочника компонентов_ содержит:
Панель инструментов с кнопками::
image:buttons/save-components-directory.png[Дискета] Сохранить:::
Сохраняет настройки _Справочника компонентов_;

image:buttons/add-components-group.png[Скобки с плюсом] Добавить группу:::
Добавляет новую группу компонентов;

image:buttons/remove-components-group.png[Скобки с минусом] Удалить группу:::
Удаляет выбранную группу компонентов;

image:buttons/add-components-to-group.png[Страница с плюсом] Добавить компонент:::
Добавляет компоненты в выбранную группу компонентов;

image:buttons/remove-component-from-group.png[Страница с минусом] Удалить компонент:::
Удаляет выбранный компонент из группы компонентов;

Список групп компонентов::
Описание группы компонентов -- содержит информацию о выбранной группе.

Иконка группы:::
Отображается только в справочнике.

Название группы:::
Имя группы.

Дополнительное описание:::
Дополнительная информация о группе.

Текущая версия группы компонентов:::
Номер автоматически увеличивается при изменении группы.

Список файлов группы:::
Содержит информацию о компонентах, включённых в группу.

Название файла::::
Имя файла.

Версия файла::::
Версия файла.

Даты создания и изменения::::
Когда файл был создан или изменён.
