= Общие настройки системы {dv}

Ветка _Общие настройки_ области _Категории_ содержит настройки, которые будут применены к карточкам библиотеки _{bo}_ системы {dv} 5, а также настройки безопасности, применяемые ко всем типам объектов с данной моделью безопасности.

[#scan]
== Настройки сканирования

.Чтобы настроить параметры сканирования, которые будут применяться в системе:
. В области _Категории_ выберите ветку _Общие настройки_ > _Сканирование_.
+
При этом в средней части карточки справочника будет отображена область _Сканирование_.
+
.Системные настройки сканирования
image::scan.png[Системные настройки сканирования]
+
. В списке _Формат изображения_ определите формат, который по умолчанию будет использоваться для сканирования.
. В списке _Качество для формата JPEG_ определите требуемое качество для сканирования изображений формата JPEG:
+
* *_100_* -- Максимальное качество JPEG.
* *_75_* -- Стандартное качество JPEG (по умолчанию).
* *_50_* -- Среднее качество JPEG.
* *_25_* -- Низкое качество JPEG.
+
. В списке _Сжатие при сохранении в PDF_ определите требуемое сжатие изображений форматов `.jpeg`, `.png`, `.tiff`, `.bmp` при их конвертации в формат `.pdf`:
+
* *_Без сжатия_*.
* *_Низкое_*.
* *_Среднее_*.
* *_Высокое_*.
+
[WARNING]
====
Использование функции сжатия в операционных системах Windows XP и Vista может вызывать ошибки. При возникновении ошибок, отключите функцию сжатие.
====
+
Для сжатия используется алгоритм LZW. Рекомендуется использовать низкое сжатие, так как при использовании других степеней происходит сильная потеря качества исходного файла.
+
. Чтобы настроить дополнительные параметры сканирования, перейдите по ссылке _Расширенные настройки_.
+
Будет открыто окно _Сканирование_.
+
.Расширенные настройки сканирования
image::twain.png[Расширенные настройки сканирования]
+
. В поле _Использовать TWAIN сканеры_ определите тип сканера, используемого в системе для всех пользователей:
* *_True_* -- использовать TWAIN сканер.
* *_False_* -- использовать другой тип сканера (например, WIA).
+
Чтобы включить возможность использовать сканер TWAIN у отдельных пользователей, создайте в реестре Windows следующий параметр: `HKEY_CURRENT_USER\Software\Docsvision\Platform\Client\UseTwain` с типом `DWORD` и значением `1`.
+
Если данная настройка отсутствует, будет использоваться системная настройка.
+
. В поле _Скрывать интерфейс сканера_ определите, будет ли отображаться интерфейс у пользователей при сканировании:
+
* *_True_* -- использовать интерфейса сканера.
* *_False_* -- не использовать интерфейс системы {dv}.
+
. Нажмите на кнопку *ОК*.

[#barcodes]
== Настройки штрих-кода

.Чтобы настроить параметры операций со штрих-кодами, которые могут выполняться из карточек библиотеки _{bo}_, выполните следующие действия:
. В области _Категории_ выберите ветку menu:Общие настройки[Штрих-коды], чтобы открыть область _Штрих-коды_ в средней части справочника.
+
Окно содержит два раздела _Настройки штрих-кода_ и _Настройки печати штрих-кодов_.
+
.Системные настройки сканирования
image::barcodes.png[Системные настройки сканирования]
+
. В поле _Использовать по умолчанию_ определите набор настроек печати штрих-кодов. Эти настройки будут использованы, если определены наборы для подразделения исполнителя, печатающего штрих-код, и для вида распечатываемого документа.
. В поле _Формат штрих-кода_ определите формат штрих-кода, формируемого системой {dv}:
+
* *_Номер штрих-кода_*;
* *_Дата + Номер_*;
* *_Номер + Дата_*;
* *_Сервер + Номер_*;
* *_Сервер + Дата + Номер_*;
* *_Сервер + Номер + Дата_*
+
****
*Номер* -- инкрементальный номер штрих-кода, который выдается системным нумератором.

*Дата* -- текущая дата в цифровом формате. Может быть указано только целое число.

*Сервер* -- имя сервера. Допускается использование не более 5 символов, введённых заглавными буквами с использованием латинского шрифта.
****
+
. В поле _Имя сервера_ укажите имя сервера.
. <<barcode-print,Настройте печать штрих-кодов>>.

Максимально допустимое количество символов в штрих-коде -- 1024.

[#barcode-print]
=== Настройки печати штрих-кодов

В системе {dv} могут быть заданы несколько вариантов настроек печати штрих-кодов.

.Чтобы настроить печать штрих-кода, выполните следующие действия:
. <<barcodes,Откройте>> окно _Штрих-коды_ и найдите область _Настройки печати штрих-кодов_.
. Чтобы добавить новый вариант настроек печати, выполните любое из действий:
* Нажмите на кнопку image:buttons/add.png[Рамка с плюсом].
* Правой кнопкой мыши вызовите контекстное меню, затем выберите команду *Добавить*, чтобы открыть окно _Настройки печати штрих-кода_.
+
.Настройки печати штрих-кода
image::barcodes-print.png[Настройки печати штрих-кода]
+
. В поле _Название настройки_ введите название нового набора настроек.
. При необходимости в разделе _Подразделение и вид документа_ задайте ограничения на печать штрих-кода.
+
****
* Чтобы данный вариант настроек был доступен только определённому подразделению, выберите опцию *Подразделение*, затем в соседнем поле выберите из _Справочника сотрудников_ название подразделения.
* Чтобы данный вариант настроек был доступен всем подразделениям организации, выберите опцию *Все подразделения*.
* Чтобы данный вариант настроек был доступен только для определённого вида карточки _Документ_, выберите опцию *Вид документа*, затем в соседнем поле выберите из _Справочника видов карточек_ название вида.
* Чтобы данный вариант настроек был доступен в карточках _Документ_ любых пользовательских видов, выберите опцию *Все виды*.
****
+
. Чтобы запретить печать штрих-кода, установите флаг `*Не печатать штрих-код*`.
. Определите место на листе, где будет напечатан штрих-код. Для этого задайте значения _Левая координата (мм)_ и _Правая координата (мм)_. Точка пересечения данных координат определит расположение левого верхнего угла поля штрих-кода относительно верхнего левого угла печатного листа.
+
.Значения координат по умолчанию:
****
* Левая координата: `5` мм.
* Верхняя координата: `232` мм.
****
+
. Чтобы штрих-кода печатался вертикально относительно листа, установите флаг `*Вертикальная ориентация*`.
+
NOTE: Координаты печати в этом случае будут определены настройками _Левая координата (мм)_ и _Верхняя координата (мм)_ аналогично стандартному (горизонтальному) расположению.
+
. Чтобы сделать более удобным отображение штрих-кода на печатном листе, а также для подстройки под используемый сканер, задайте в поле _Ширина символа_ необходимую ширину. При увеличении ширины символа, полосы штрих-кода будут "растягиваться".
+
****
По умолчанию используется ширина `75` мм.
****
+
. В поле _Длина штрих-кода_ определите длину штрих-кода.
+
****
Минимальная длина составляет `7` символов. Если длина сгенерированного штрих-кода окажется больше указанной длины, данная настройка будет проигнорирована.
****
+
. Чтобы определить шрифт для штрих-кода:
.. Откройте окно _Шрифт_, нажав на кнопку *Шрифт*.
+
.Настройка шрифта для печати штрих-кода
image::barcodes-font.png[Настройка шрифта для печати штрих-кода]
+
****
Чтобы шрифты в данном диалоге отображались корректно, необходимо их установить вручную в системе. Шрифты из папки `\Docsvision\Client\Fonts` установите в папку `%WINDIR%\Fonts`.

WARNING: Для данного действия требуются права администратора.

По умолчанию установлен шрифт _IDAutomationHC39M_, для выбора доступен также шрифт _Free 3 of 9_.

Если шрифты установлены некорректно, при открытии окна Шрифт будет появляться информационное сообщение `Невозможно отобразить диалог настройки шрифтов в связи с ограничением прав доступа`.
****
+
.. Определите параметры шрифта, затем нажмите на кнопку *ОК*.
+
. Когда все необходимые настройки выполнены, сохраните изменения кнопкой *ОК*.
. Чтобы изменить или удалить ранее выполненные настройки, воспользуйтесь кнопками image:buttons/change.png[Лист с карандашом] и image:buttons/delete.png[Красный крест].

[#attachment-size]
== Ограничение объема вложений в карточки

.Чтобы определить объём вложенных файлов, прикрепляемых к карточкам, выполните следующие действия:
. В области _Категории_ выберите ветку menu:Общие настройки[Карточки].
+
.Системные настройки ограничений прикрепляемых файлов
image::сards.png[Системные настройки ограничений прикрепляемых файлов]
+
. Нажмите на кнопку image:buttons/add.png[Рамка с плюсом], чтобы открыть окно _Ограничения размеров файлов_.
+
.Ограничения размеров файлов
image::file-size-limit.png[Ограничения размеров файлов]
+
. В поле _Название настройки_ введите название, которое будет отображаться в таблице _Настройки ограничений прикрепляемых файлов_ окна _Карточки_.
. В группе настроек _Подразделение_ определите объекты, на которые будут наложены ограничения по объему вложений.
+
****
* Чтобы ограничение действовало только для определённого подразделения, выберите опцию *Подразделение*, затем в соседнем поле выберите из _Справочника сотрудников_ название подразделения.
+
Настройки будут распространяться также на дочерние подразделения.
+
* Чтобы ограничение действовало для всех подразделений организации, выберите опцию *Все подразделения*.
****
+
. В группе настроек _Общие настройки прикрепляемых файлов_ определите максимальный размер файлов.
+
****
* _Максимальный размер файла по умолчанию (КВ)_ -- определяет ограничение для всех типов файлов. Если значение `0` Кб (по умолчанию), ограничений на объем вложения нет.
* _Суммарный размер файла (КВ)_ -- определяет максимальный суммарный объем вложений для всех типов файлов.
****
+
. В таблице _Ограничения по типу файлов_ задайте ограничения по объему для файлов определённых типов.
* _Название_ -- название типа файла. Текстовое поле.
* _Расширение_ -- тип расширения файла, для которого задаётся ограничение. Буквенное обозначение расширения должно быть введено полностью (например, `.jpg`).
* _Макс. р-р файла (КВ)_ -- размер файла. Задаётся в Килобайтах. Значение поля не должно превышать значения полей _Максимальный размер файла по умолчанию (КВ)_ и _Суммарный размер файла (КВ)_.
* `*Запретить добавление файлов*` -- флаг запрещает добавление в карточку файлов с указанным расширением.
. Чтобы отключить все ограничения, заданные на данной форме, для некоторых групп сотрудников установите флаг `*Не применять ограничения для следующих сотрудников*`, затем выберите в поле справа название группы из _Справочника сотрудников_.
. Нажмите на кнопку *ОК*.

[#security]
== Настройки безопасности

.В {dv} поддерживается два режима проверки прав дискреционной безопасности для сотрудников подразделений и групп:
. При проверке прав сотрудника на объект учитываются только права его организации, подразделения или группы.
+
*Режим по умолчанию.*
+
. При проверке прав сотрудника на объект учитываются права его организации, подразделения или группы, а также права всех вышестоящих организаций или групп.

.Чтобы изменить режим проверки прав безопасности:
. В области _Категории_ выберите ветку menu:Общие настройки[Безопасность].
+
.Настройки безопасности
image::security.png[Настройки безопасности]
+
. Установите переключатель _Дискреционные права для групп_ в требуемое положение.
+
****
* *Только для участников группы* -- при проверке прав будут учитываться только права сотрудника и права его непосредственного подразделения, организации или группы.
* *Включая участников подчинённых групп* -- при проверке прав будут учитываться права сотрудника и права его подразделения, организации или группы, а также всех вышестоящих организаций и групп.
****
