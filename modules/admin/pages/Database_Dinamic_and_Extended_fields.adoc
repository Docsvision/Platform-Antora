= Преобразование динамических метаданных {dv} в расширенные

Система {dv} предоставляет возможность инженерам {dv} добавлять (с помощью _Конструктора разметок_) в карточку новые секции и поля без фактического изменения схемы метаданных карточки (не требуется проектировать схему и загружать её в БД).

Добавляемые метаданные могут быть одного из двух типов: динамические или расширенные. Отличие типов добавляемых метаданных заключается в способе хранения данных в БД:

* значения _динамических_ полей одинакового типа для всех типов карточек сохраняются в одной таблице;
* _расширенные_ поля сохраняются в таблицах основных секций; для расширенных секций в БД создаются таблицы, аналогичные таблицам статических метаданных (вида `dvtable_\{ИД секции}`).

Администратор {dv} может переключить БД с используемых по умолчанию динамических метаданных на расширенные. +++Обратный переход (с расширенных на динамические метаданные) невозможен.+++

Переход с _динамических_ на _расширенные_ поля рекомендуется выполнять в случае, когда в базе данных планируется хранить большое количество карточек (десятки тысяч), в которых есть _динамические_ поля, или планируется использование сложных ролей с добавляемыми полями.

[NOTE]
====
[.note__title]#Прим.:#

* Использование _расширенных_ полей позволит повысить производительность работы базы данных за счет увеличения скорости чтения и сохранения данных всех карточек, где используются добавляемые поля, ускорить построение отчетов и выполнение других операций с карточками.
* После перевода базы на расширенные метаданные, модификация метаданных в _Конструкторе разметок_ будет приводить к изменению/добавлению таблиц и может занимать продолжительное время (до нескольких минут, в зависимости от загруженности базы данных).
====

После перевода базы на расширенные метаданные потребуется обновить (актуализировать названия таблиц, полей) код хранимых процедур модуля _Расширенные отчеты_, код собственных процедур, разработанных для ролевой модели, а также код других собственных скриптов, если в них выполняется низкоуровневая работа (на уровне БД) с данными карточек, использующих расширенные метаданные.

Для перевода БД с динамических на расширенные метаданные (необратимая операция), используйте кнопку *Преобразовать* в настройках xref:serverConsoleDataBaseConfiguration.adoc#metadata[Метаданные] базы данных.

image::ControlPanelMetadata.png[Настройка метаданных в Консоли настройки {dv}]

[#task_ydf_ywx_lt__fulltext_search .ph]#Если создание индексов полнотекстового поиска было выполнено при использовании в базе _динамических_ полей, после выполнения конвертирования базы на _расширенные_ метаданные для работы поиска нужно повторить операцию создания индексов.
