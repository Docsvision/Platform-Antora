// tag::fStream[]
.. В поле _Строка соединения_ введите строку формата
include::partial$excerpts.adoc[tags=connectionLine]
+
.. В поле _Папка (локальная на сервере баз данных)_ введите полный путь к каталогу на сервере СУБД, на который настроен FileStream.
.. При желании, измените максимальное время ожидания ответа от СУБД в поле _Таймаут (с)._
// end::fStream[]

// tag::fSystem[]
.. В поле _Путь_ введите полный путь к каталогу для хранения бинарных данных файлов на сервере {dv}.
// end::fSystem[]

// tag::tenMin[]
Новая конфигурация будет применена в течение 10 минут (по умолчанию).
// end::tenMin[]

// tag::atomic[]
****
Параметр _Ожидать завершения атомарной операции на SQL Server (сек)_ определяет максимальное время ожидания завершения отдельного этапа (операции) процедуры создания или подключения БД. Если операция не будет выполнена за указанное время, она завершится с ошибкой.

[NOTE]
====
Параметр _Ожидать завершения атомарной операции на SQL Server (сек)_ не ограничивает время выполнения пользовательских операций при работе в {wincl}е или {wc}е. при работе в клиентских приложениях будет применяться стандартное ограничение `600 секунд`.
====
****
// end::atomic[]

// tag::satellite[]
Не рекомендуется включать или отключать сателлитные БД, если подключается БД {dv} версии 5.5. В противном случае часть данных станет недоступна. Данные из основной БД в сателлитную и обратно не переносятся.
// end::satellite[]

// tag::storageLimits[]
* Для СУБД Microsoft SQL Server существует ограничение на размер добавляемых файлов -- не более 2 Гб. Если в {dv} необходимо хранить файлы больше 2 Гб, используйте *_Хранилище на диске_*, *_Filestream хранилище в базе данных {dv}_*, *_FileStream хранилище во внешней базе данных MS SQL Server_* или другое хранилище, поддерживающее файлы такого размера.
+
Для СУБД PostgreSQL аналогичное ограничение составляет 1 Гб.
// end::storageLimits[]

// tag::connectionLine[]
ifdef::storageorgroup[]
`Data Source=ServerName;Initial Catalog=DatabaseName;User ID=UserName;Password=UserPassword`.
+
Строка должна содержать данные для подключения к внешней БД (по отношению к БД {dv}). В указанную внешнюю БД будут сохраняться бинарные данные файлов.
+
endif::[]
ifndef::storageorgroup[]
`Data Source=ServerName;Initial Catalog=DatabaseName;User ID=UserName;Password=UserPassword;Integrated Security=SSPI`.
+
.Где:
* `ServerName` замените на полное имя сервера с СУБД Microsoft SQL.
* `DatabaseName` замените на название базы данных с FileStream.
* `UserName` и `UserPassword` замените на имя и пароль пользователя, который обладает правами на работу с базой данных `DatabaseName`.
+
endif::[]
WARNING: Не указывайте текущую или любую другую БД {dv} -- это может привести к поломке БД.
// end::connectionLine[]

// tag::openStorages[]
. В программе _{cns}_ откройте страницу настроек menu:Настройки сервера[Базы данных > Внешние хранилища].
. Выберите настраиваемую базу данных и нажмите на кнопку *Настройки*.
. В появившемся окне _Свойства и управление базой данных_ откройте вкладку _Внешние хранилища_.
. Нажмите на кнопку image:buttons/StorageAdd.png[Рамка с плюсом] в блоке настроек
ifdef::storageorgroup[]
_Хранилища_, чтобы открыть окно _Настройки хранилища_.
endif::[]
ifdef::create[]
_Группы хранилищ_, чтобы открыть окно _Настройки группы хранилищ_.
endif::[]
ifdef::include[]
_Группы хранилищ_, чтобы открыть окно _Выбор хранилища_.
endif::[]
ifdef::rules[]
_Правила помещения в хранилища_, чтобы открыть окно _Настройки правила хранилища_.
endif::[]
// end::openStorages[]

// tag::openStorageSettings[]
. В программе _{cns}_ откройте страницу настроек menu:Настройки сервера[Базы данных > Внешние хранилища].
. Выберите настраиваемую базу данных и нажмите на кнопку *Настройки*.
// end::openStorageSettings[]